\documentclass[11pt,oneside]{memoir}   
\makeindex
\checkandfixthelayout


% ## pagestyle ## ----------------------------------------------
%\usepackage[papersize={5.4in,7.2in},hmargin=0.1in,vmargin={0.1in,0.1in}]{geometry}  % page geometry
%\special{papersize=5.4in,7.2in}
\usepackage{geometry}
\geometry{a4paper, top=4cm, bottom=4cm, outer=5cm, inner=2cm, marginparwidth=2.5cm, marginparsep=2cm}
 

% ## paragraph style ## ----------------------------------------------
%TODO fix this up
\usepackage{parskip}
\setlength{\parindent}{0pt}
\setlength{\parskip}{5pt}


% ## packages for graphics, etc ## ----------------------------------------------
\usepackage{ipe} % remove when figures replaced
\usepackage[usenames,dvipsnames,table]{xcolor}
\usepackage{graphicx}
\DeclareGraphicsExtensions{.pdf,.png,.eps}
\graphicspath{{figs/}} 

% ## fonts ## ----------------------------------------------
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{newtxmath} % Times New Roman math font

\usepackage{utopia}
\newcommand{\defnfont}[1]{\textbf{\textit{#1}}\index{#1}}
\newcommand{\boldfont}[1]{\emph{#1}}
\newcommand{\algfont}[1]{\texttt{#1}\index{algorithm!#1}}

% ## tikz ## ----------------------------------------------
\usepackage{tikz}
\usetikzlibrary{arrows,decorations.pathmorphing,backgrounds,fit}


% ## style ## ----------------------------------------------
\renewcommand{\labelitemii}{$\circ$}
% roman letters in enumerate
\makeatletter
\def\romenumi{
\def\theenumi{\roman{enumi}}
\def\p@enumi{\theenumi}
\def\labelenumi{(\@roman\c@enumi)}}
\makeatother

% boxes
\newcommand{\lightgraybox}[1]{\fcolorbox{lightgray}{white}{$\displaystyle #1$}}

% ## customizing section titles ## ----------------------------------------------
\usepackage{titlesec}      
\titleformat{\section}{\bfseries\large}{\thesection}{3pt}{}
\titlespacing{\section}{0pt}{8pt}{4pt}
\titleformat{\subsection}{\itshape}{\thesubsection}{2pt}{}
\titlespacing{\subsection}{0pt}{4pt}{2pt}
\titleformat{\subsubsection}[runin]{\scshape}{}{0em}{}
\titlespacing{\subsubsection}{0pt}{5pt}{5pt}
\titleformat{\chapter}[display]{\bfseries\Huge}{}{0.5ex} 
{    
	\rule{\textwidth}{1pt}
    \vspace{1ex}
	\LARGE
	Lecture \thechapter\\
	\huge
}[
	\vspace{-0.5ex}%
	\rule{\textwidth}{1pt}
]
\titlespacing*{\chapter}{0pt}{-120pt}{30pt}
 
% ## customizing captions ## ----------------------------------------------
\usepackage[font=small,labelformat=simple]{caption}


% ## math theorems ----------------------------------------------
\theoremstyle{definition}
\newtheorem{Lemma}{Lemma}
\newtheorem{Theorem}[Lemma]{Theorem}
\newtheorem{Definition}[Lemma]{Definition}
\newtheorem{Corollary}[Lemma]{Corollary}
\newtheorem{Example}[Lemma]{Example}
\newtheorem{Exercise}{Exercise}

\numberwithin{Lemma}{chapter}
\numberwithin{Exercise}{section}

\theoremstyle{remark}

\newtheorem*{note}{Note}
\newtheorem*{statement}{Statement}
\newtheorem*{theorem}{Theorem}
\newtheorem*{tech}{\textbf{Technique}}

\newtheoremstyle{boxampleStyle}
  {0pt} % measure of space to leave above the theorem.
  {\topsep} % measure of space to leave below the theorem.
  {\normalfont} % name of font to use in the body of the theorem.
  {0pt} % measure of space to indent.
  {\bfseries} % name of head font.
  {. } % punctuation between head and body.
  { } % space after theorem head.
  {} %
\theoremstyle{boxampleStyle} 
\newtheorem{ExampleInBox}[Lemma]{Example}

\usepackage{mdframed}
\usepackage{xparse}
\NewDocumentEnvironment{Boxample}{o}{%
    \begin{mdframed}\begin{ExampleInBox}%
}{%
    \end{ExampleInBox}%
    \vspace*{#1cm}%
    \end{mdframed}%
}

% \newcommand{\truevspace}[1]{ %Call this macro to get a vertical space of #1 cm
% \newcount\Scount
% \Scount=0
% \loop\vspace*{1cm}\par\goodbreak\advance\Scount by 1 \ifnum\Scount< #1 \repeat
% }
% \def\beginboxedexample{\begin{mdframed}\begin{Example}}
% \def \endboxedexample #1 {\vspace{#1} \end{Example} \end{mdframed} }


% ## definitions & macros ## ----------------------------------------------
\newcommand{\set}[1]{\mbox{$\{#1\}$}}
\newcommand{\solution}[1]%
{\medskip \noindent{\textsc{\textbf{Solution to \cref{#1} on
page~\pageref{#1}}}}:\newline }

\DeclareMathOperator{\pred}{\text{\textit{pred}}}
\DeclareMathOperator{\colour}{\text{\textit{colour}}}
\DeclareMathOperator{\done}{\text{\textit{done}}}
\DeclareMathOperator{\seen}{\text{\textit{seen}}}
\DeclareMathOperator{\status}{\text{\textit{status}}}
\DeclareMathOperator{\timeVar}{\text{\textit{time}}}
\DeclareMathOperator{\algo}{\text{\texttt{algo}}}
\DeclareMathOperator{\inp}{\text{\texttt{inp}}}

\usepackage{mathtools}
\DeclarePairedDelimiter\abs{\lvert}{\rvert}


% ## Algos ## ----------------------------------------------
\newcommand{\AlgCmt}[1]{\fcolorbox{lightgray}{white}{#1}}
\newcommand{\AdjLists}[1]{\lightgraybox{#1}}

\usepackage{algorithm}
\usepackage[noend]{algpseudocode}
\newcommand*\Let[2]{\State #1 $\gets$ #2}

% below obsolete, remove when algos converted
\newcommand{\Algorbody}[1]{
\begin{tabbing}
xxxx\=xxxx\=xxxx\=xxxx\=xxxx\=xxxx\=xxxx\= \kill

#1
\end{tabbing}
}

\newcommand{\Algorithm}[4]{ 
\begin{tabbing}
xxxx\=xxxx\=xxxx\=xxxx\=xxxx\=xxxx\=xxxx\= \kill
\textbf{algorithm } \algfont{#1} \\
\> {\textit{\textbf{Input: }} #2}\\
\textbf{begin} \\
#4
\textbf{end}
\end{tabbing}
} 


% ## refs ## ----------------------------------------------
\usepackage[colorlinks,linkcolor=blue,urlcolor=blue,citecolor=blue,
 bookmarksopen=true,
 pdfauthor={David Welch, Mark C. Wilson, Jonathan Klawitter}, 
 pdfsubject={Coursebook},
 pdftitle={CS220 Algorithms and Data Structures},
 pdfcreator={LaTeX with hyperref package},
 pagebackref=true,
]{hyperref}
\usepackage[capitalise,noabbrev,nameinlink ]{cleveref} 


% headings hacked from memoir package
\makeatletter
\makepagestyle{220book}
\setlength{\headwidth}{1.1\textwidth}
\makerunningwidth{220book}{\headwidth}
\makeheadrule{220book}{\headwidth}{\normalrulethickness}
\makeheadposition{220book}{flushright}{flushleft}{}{}
\makepsmarks{220book}{%
  \let\@mkboth\markboth
  \def\chaptermark##1{%
        \markboth{{%\MakeUppercase{%
          \ifnum \c@secnumdepth >\m@ne
            \if@mainmatter
              \@chapapp\ \thechapter: \ %
            \fi
          \fi
          ##1}}{}}%
  \def\sectionmark##1{\markright{%
    \ifnum \c@secnumdepth>\z@
      Section~\thesection: \ %
    \fi
    ##1}}
  \def\tocmark{\markboth{\contentsname}{\contentsname}}
  \def\lofmark{\markboth{\listfigurename}{\listfigurename}}
  \def\lotmark{\markboth{\listtablename}{\listtablename}}
  \def\bibmark{\markboth{\bibname}{\bibname}}
 \def\indexmark{\markboth{\indexname}{\indexname}}
}
\makeevenhead{220book}
{{\normalfont\large\bfseries\thepage} \quad \footnotesize\rightmark}
{} {}
\makeoddhead{220book}{}{}%
{\footnotesize\leftmark \quad {\normalfont\large\bfseries\thepage}}
\makeatother
\makeevenfoot{plain}{}{}{}
\makeoddfoot{plain}{}{}{}

% --- ### BEGIN DOCUMENT ### ---
\begin{document}   


% # title page
%\input{titlepageOld} % <- coursebook version
\title{CS220 Algorithms and Data Structures}
\author{David Welch $\quad$ Mark C. Wilson $\quad$ Jonathan Klawitter}
\date{\today}

\begin{titlingpage}
\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}
\aliaspagestyle{titlingpage}{plain}
\setlength{\droptitle}{30pt} 
\begin{adjustwidth*}{1cm}{-2cm}
\centering

\vspace*{0.4cm}
\textsc{\LARGE The University of Auckland}\\[3cm]

\textsc{\Large Coursebook for}\\[0.4cm]

\HRule\\[0.5cm]
\Huge{\bfseries CS220\\ 
Algorithms and Data Structures}\\[0.1cm]
\HRule\\[2.6cm]

\LARGE{\theauthor}

\end{adjustwidth*}
\end{titlingpage}



% - ### front matter ### -
\setcounter{page}{1}

%\tableofcontents

%\newpage
%\listoffigures

%\newpage
%\listoftables


% - ### main matter ### -
%\mainmatter
\chapterstyle{ger}


%\part{Introduction to Algorithm Analysis}

\include{lectures/algoAnalysis}
\include{lectures/sorting}
\include{lectures/searching}

%\part{Introduction to Graph Algorithms}

\include{lectures/graph-adt}
\include{lectures/traversal}
%\include{lectures/optimization}


%\part*{Appendices}
%\part{Appendices}
%
%\appendix
%
%\include{appendix/javasortmeth}
% 
%\include{appendix/javagraphADT}

%% \include{appendix/javaparse}

%\include{appendix/datastruct}
%
%\include{appendix/mathfacts}
%
%\include{appendix/solutions}

\chapterstyle{section}

% - ### backmatter ### -
%\backmatter

%\part{Bibliography/Index}
%\include{reference/reference}

\printindex

\end{document}
